# 18.08.08

## 오늘의 할 일

* 병원가기!!! O
* 약 생각 나는 순간에 제발 꼬박꼬박 먹기!!! O \(오후 2시, 오후 8시, 오전 2 O\)
* 집중 

### IoT

* 라즈베리파이 모니터 연결해서 와이파이 설정
* 라파 설정 후 깃 클론 받기
* 실행시켜보기

### 웹 프론트

* 프론트 구체화 

## 궁금한 점

### IoT

1. 라파에서 실행시키려는데 ImportError : No mudule named socketIO-client-nexus 에러가 뜸 ㅠㅠ 아무리 pip3 install socketIO-client-nexus 해도 없다고 뜸 
2. 수위센서 핀 연결 
3. 전구가 왜 안 켜질까 \(험한 말\)

## 해결

1. 파이썬은 모든 패키지가 글로벌로 설치된다. -&gt; 사용자로 락을 걸어놓는 개념 사용자별로 나눠서 설치하게 됨 \(컴퓨터 운영체제 모드는 사용자모드, 관리자모드 두 가지가 있다는 사실을 잊지말자 !!\) 만약 내가 로그아웃하고 다른 사용자로 들어가면 이전에 설치한 다른 라이브러리를 사용할 수 없다.  **난 아까까지**  pip3 install socketIO\_client\_nexus로 설치하고 sudo python3 communication.py 로 스크립트를 실행시켰다. 패키지 설치는 사용자에 해놓고 실행은 관리자로 실행했다. 그래서 자꾸 내가 설치해놓았던걸 못찾았던 것이다.  **앞으로는** pip3 install socketIO\_client\_nexus python3 communication.py 이렇게 해야한다. 기억하자!!
2. **수위센서 핀 \[ 제발 기억 \]** **S : 아날로그 핀 + : 5V - : GND**

## 현재 구현 상황

### IoT

* 라파 모니터 연결해서 내부 설정
* 깃 브랜치 "gas" 클론 받음
* 스크립트 실행 및 \[아두이노-라파-서버\] 연동 성공 
* 
## IoT 테스트 시나리오 

### 연결할 센서 

* 수위센서 2개
* 가스센서 1개
* 전등용 LED 1개
* 가스레인지용 LED 1개

### 위치

* 수위센서 - 집 외부와 내부에 각각 1개
* 가스센서 - 가스 밸브 근처 
* 전등용 LED - 전등내부
* 가스레인지용 LED - 가스레인지 위쪽에 가까이

### IoT -&gt; 라파 -&gt; 서버

* 모든 센서의 출력값을 문자열로 보냄

### 서버 -&gt; 라파 -&gt; IoT

* \(TEST\) 서버에서 'on'이라고 보내면 전등 LED가 꺼지게 해보자
* 특정 수위 이상이면 전등 LED와 가스레인지 LED꺼지게 해보자 

### 현재 문제점 

* 전구가 켜지지 않는다..............\(절망\) \(절규\) 
* outWater를 담당하고 있는 수위센서 상태가 이상함...... 완전 건조한데도 800이상 넘는 값이 시리얼 모니터에 출력된다.........살려줘...

